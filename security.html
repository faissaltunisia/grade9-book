<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مختبر الأمن السيبراني</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <h3>أمن المعلومات</h3>
        </div>
        <div class="lessons-container">
            <div class="lesson-group">
                <span class="lesson-title">الدرس 1: التهديدات</span>
                <a href="#" class="activity-link" onclick="loadSecurity('viruses')">نشاط: أنواع الفيروسات</a>
                <a href="#" class="activity-link" onclick="loadSecurity('phishing')">نشاط: التصيد الاحتيالي</a>
            </div>
        </div>
    </aside>

    <main class="main-content">
        <div class="top-bar">
            <h2>تحدي الوعي الأمني</h2>
            <div id="score">النقاط: 0</div>
        </div>
        <div class="workspace">
            <div class="editor-area">
                <div class="instruction-card" id="scenario-box">
                    اضغط على نشاط لبدء اختبار مهاراتك الأمنية.
                </div>
                <div id="quiz-options" style="display:none;">
                    <button class="btn-run" onclick="checkSecurity(true)" id="btn-opt1" style="width:100%; margin-bottom:10px;"></button>
                    <button class="btn-run" onclick="checkSecurity(false)" id="btn-opt2" style="width:100%; background:#e74c3c;"></button>
                </div>
            </div>

            <div class="ai-side-panel">
                <div class="ai-chat-box" id="ai-messages">
                    <div class="ai-bubble">سأقوم بطرح مواقف حقيقية عليك، وعليك اختيار التصرف الصحيح لحماية بياناتك.</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const scenarios = {
            'viruses': {
                q: "وجدت فلاش ميموري (USB) في ساحة المدرسة، ماذا تفعل؟",
                opt1: "أقوم بتوصيله بجهازي لأعرف صاحبه",
                opt2: "أسلمه لمعلم تقنية المعلومات دون فتحه",
                correct: false, // الخيار الثاني هو الأصح
                ai: "أحسنت! الفلاشات المجهولة قد تحتوي على برمجيات تجسس تعمل تلقائياً."
            }
        };

        function loadSecurity(id) {
            const sc = scenarios[id];
            document.getElementById('scenario-box').innerText = sc.q;
            document.getElementById('quiz-options').style.display = 'block';
            document.getElementById('btn-opt1').innerText = sc.opt1;
            document.getElementById('btn-opt2').innerText = sc.opt2;
        }

        function checkSecurity(isFirst) {
            // منطق التصحيح والتحفيز
            sendAI("هذا قرار ذكي جداً! أنت الآن تساهم في حماية مدرستك من الهجمات الرقمية.");
        }

        function sendAI(msg) {
            const box = document.getElementById('ai-messages');
            box.innerHTML += `<div class="ai-bubble">${msg}</div>`;
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
