<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>أمن المعلومات - التحدي الذكي</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <aside class="sidebar">
        <h3>أمن المعلومات والشبكات</h3>
        <div class="lesson-item" onclick="startSecurityQuiz('malware')">مخاطر البرمجيات الخبيثة</div>
        <div class="lesson-item" onclick="startSecurityQuiz('internet')">أمن الإنترنت والخصوصية</div>
        <div class="lesson-item" onclick="startSecurityQuiz('protection')">طرق حماية البيانات</div>
    </aside>

    <main class="main-lab">
        <header class="lab-header">
            <h2>مختبر التوعية الأمنية</h2>
            <span id="score-board">النقاط: 0</span>
        </header>

        <div class="workspace">
            <div class="activity-card">
                <strong>السيناريو الحالي:</strong>
                <p id="scenario-text">اختر موضوعاً من القائمة اليمنى لبدء تحدي أمن المعلومات مع المساعد تِقني.</p>
            </div>

            <div id="options-container" class="workspace" style="display:none;">
                <button class="btn" style="background:#3498db; color:white; display:block; width:100%; margin:10px 0;" onclick="checkSecurityAnswer(1)" id="opt1"></button>
                <button class="btn" style="background:#3498db; color:white; display:block; width:100%; margin:10px 0;" onclick="checkSecurityAnswer(2)" id="opt2"></button>
            </div>

            
        </div>
    </main>

    <section class="ai-panel">
        <div class="ai-header">
            <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" width="60">
            <h4>تِقني (خبير الأمن)</h4>
        </div>
        <div id="ai-messages">
            <div class="ai-bubble">أهلاً بك! في هذا القسم، سأختبر مهاراتك في حماية بياناتك. هل أنت مستعد للمغامرة؟</div>
        </div>
    </section>

    <script>
        let currentCorrect = 0;
        let score = 0;

        const securityData = {
            'malware': {
                question: "وصلت إليك رسالة بريد إلكتروني من مصدر مجهول تحتوي على ملف تنفيذي (.exe)، ماذا تفعل؟",
                options: ["أفتح الملف فوراً لأرى محتواه", "أقوم بحذف الرسالة دون فتح المرفق"],
                correct: 2,
                feedback: "أحسنت! الملفات التنفيذية من مصادر مجهولة هي الطريقة الأشهر لنشر الفيروسات."
            },
            'protection': {
                question: "ما هي أفضل ممارسة لإنشاء كلمة مرور قوية لحسابك المدرسي؟",
                options: ["استخدام تاريخ ميلادي فقط", "مزج الحروف الكبيرة والصغيرة والأرقام والرموز"],
                correct: 2,
                feedback: "ممتاز! كلمات المرور المعقدة تصعب مهمة المخترقين في تخمينها."
            }
        };

        function startSecurityQuiz(type) {
            const data = securityData[type];
            document.getElementById('scenario-text').innerText = data.question;
            document.getElementById('options-container').style.display = 'block';
            document.getElementById('opt1').innerText = data.options[0];
            document.getElementById('opt2').innerText = data.options[1];
            currentCorrect = data.correct;
            
            sendAIMessage("فكر جيداً قبل الإجابة، أمنك الرقمي يعتمد على قراراتك!");
        }

        function checkSecurityAnswer(choice) {
            if(choice === currentCorrect) {
                score += 10;
                document.getElementById('score-board').innerText = "النقاط: " + score;
                sendAIMessage("إجابة صحيحة! " + securityData[Object.keys(securityData).find(k => securityData[k].correct === currentCorrect)].feedback);
            } else {
                sendAIMessage("للأسف إجابة خاطئة. هذا التصرف قد يعرض جهازك للاختراق!");
            }
        }

        function sendAIMessage(text) {
            const msgBox = document.getElementById('ai-messages');
            const bubble = document.createElement('div');
            bubble.className = 'ai-bubble';
            bubble.innerText = text;
            msgBox.appendChild(bubble);
            msgBox.scrollTop = msgBox.scrollHeight;
        }
    </script>
</body>
</html>
