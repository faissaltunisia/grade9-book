:root {
    --oman-red: #d92027; --oman-green: #007e33; --tech-blue: #004a99;
    --dark: #1e1e1e; --ai-gold: #ffc107;
}

body { font-family: 'Tajawal', sans-serif; margin: 0; background: #f0f2f5; direction: rtl; overflow: hidden; }

/* الهيدر */
.main-header { height: 65px; background: white; border-bottom: 3px solid var(--oman-red); display: flex; justify-content: space-between; align-items: center; padding: 0 15px; }
.header-titles h1 { font-size: 0.9rem; margin: 0; color: var(--tech-blue); }
.header-titles span { font-size: 0.7rem; color: var(--oman-green); font-weight: bold; }

/* المحرر والمراقب */
.editor-wrapper { position: relative; flex: 1; display: flex; flex-direction: column; }
#editor { flex: 1; background: var(--dark); color: #adff2f; padding: 20px; font-family: 'Consolas', monospace; font-size: 1.1rem; border: none; outline: none; border-radius: 8px; }

/* فقاعة المراقب الآلي */
.hint-bubble { position: absolute; top: 20px; left: 20px; background: var(--ai-gold); color: #000; padding: 10px 15px; border-radius: 10px; font-size: 0.8rem; font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 10; animation: bounce 1s infinite; }

/* زر المساعدة السحرية */
.help-btn { background: linear-gradient(45deg, #673ab7, #e91e63); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.8rem; margin-left: 10px; transition: 0.3s; }
.help-btn:hover { transform: scale(1.05); }

/* الكتاب التفاعلي */
.book-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
.book-content { background: #fff; width: 90%; height: 80%; border-radius: 20px; position: relative; padding: 20px; overflow: hidden; }
.page-container { height: 85%; display: flex; align-items: center; justify-content: center; perspective: 1000px; }
.page-3d { width: 100%; max-width: 500px; padding: 40px; background: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid #eee; transition: 0.6s transform-style; transform: rotateY(0deg); }

/* استجابة الهاتف */
@media (max-width: 768px) {
    .sidebar, .ai-chat-box { width: 100% !important; display: none; }
    .tab-content.active { display: flex !important; }
    .mobile-tabs { display: flex; background: #fff; border-bottom: 1px solid #ddd; }
    .tab-btn { flex: 1; padding: 10px; border: none; background: none; font-weight: bold; color: #666; }
    .tab-btn.active { color: var(--tech-blue); border-bottom: 3px solid var(--tech-blue); }
    .main-layout { flex-direction: column; }
    #editor { font-size: 16px; }
}

@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
.hidden { display: none !important; }
