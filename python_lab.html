<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مختبر بايثون الذكي | الصف التاسع</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.10.5/brython.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.10.5/brython_stdlib.min.js"></script>
</head>
<body onload="brython()">

    <aside class="sidebar" id="sidebar-menu">
        <h3>فهرس أنشطة الكتاب</h3>
        </aside>

    <main class="main-lab">
        <div class="instruction-box">
            <h4 id="act-title">ابدأ رحلتك البرمجية</h4>
            <p id="act-desc">اختر نشاطاً من القائمة الجانبية، وسأقوم بإرشادك خطوة بخطوة.</p>
        </div>

        <textarea id="code-editor" onkeyup="aiMonitor()" placeholder="اكتب كود بايثون هنا..."></textarea>
        
        <div style="margin: 15px 0;">
            <button id="run-btn" style="padding:10px 30px; background:#27ae60; color:white; border:none; border-radius:5px; cursor:pointer;">تشغيل الكود ▶</button>
        </div>

        <div id="console" style="background:black; color:#00ff00; padding:15px; border-radius:8px; height:100px; overflow-y:auto; font-family:monospace;"></div>
    </main>

    <section class="ai-assistant">
        <div class="ai-header">
            <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" width="50">
            <p><strong>المساعد تِقني</strong></p>
        </div>
        <div id="ai-chat">
            <div class="ai-msg">أهلاً بك يا بطل! أنا تِقني، سأراقب كودك وأساعدك في حل أنشطة الكتاب المدرسي.</div>
        </div>
    </section>

    <script type="text/python">
        from browser import document
        def run_code(ev):
            document["console"].text = ""
            src = document["code-editor"].value
            try:
                exec(src, {"print": lambda *args: setattr(document["console"], "text", document["console"].text + " ".join(map(str, args)) + "\n")})
            except Exception as e:
                document["console"].text = f"خطأ برمي: {e}"
        document["run-btn"].bind("click", run_code)
    </script>

    <script src="ai-engine.js"></script>
</body>
</html>
